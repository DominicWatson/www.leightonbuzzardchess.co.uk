---
layout: page
---

{% assign league = site.leagues | where: "slug", page.league %}
{% assign season = site.seasons | where: "slug", page.season %}
{% assign opponent = site.teams | where: "slug", page.opponent %}
{% assign hometeam = site.teams | where: "slug", page.hometeam %}
{% assign games = site.games | where: "match", page.slug | sort: "boardno" %}

<h2>{{ hometeam[0].title }} vs {{ opponent[0].title }}</h2>

{{ content }}

{% if games.size > 0 %}
<h2>Results</h2>
<table class="table chess-results-table">
  <thead>
    <th>Board</th>
    <th>Result</th>
  </thead>
  <tbody>
    {% for game in games %}
      {% assign white = site.players | where:"slug",game.white %}
      {% assign black = site.players | where:"slug",game.black %}
      {% if page.boards contains game.white %}
        {% if game.result == "1-0" %}
          {% assign result = "win" %}
        {% elsif game.result == "0-1" %}
          {% assign result = "loss" %}
        {% else %}
          {% assign result = "draw" %}
        {% endif %}
      {% else %}
        {% if game.result == "1-0" %}
          {% assign result = "loss" %}
        {% elsif game.result == "0-1" %}
          {% assign result = "win" %}
        {% else %}
          {% assign result = "draw" %}
        {% endif %}
      {% endif %}

      <tr class="{{ result }}">
        <td>
          <a href="{{ site.baseurl }}{{ game.url }}">
            #{{ game.boardno }} {{ white[0].title }} vs {{ black[0].title }}
          </a>
        </td>
        <td class="result-cell">
          {{ game.result }}
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p><em>No games have been uploaded for this match.</em></p>
{% endif %}